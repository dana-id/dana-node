"use strict";
/* tslint:disable */
/* eslint-disable */
/**
 * NOTE: This class is auto generated by DANA Indonesia.
 * Do not edit the class manually.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.IPGApi = void 0;
const runtime = require("../../../runtime");
const index_1 = require("../models/index");
/**
 *
 */
class IPGApi extends runtime.BaseAPI {
    constructor({ partnerId, privateKey, origin, env }) {
        const basePath = runtime.getBasePathByEnv(env);
        const configuration = new runtime.Configuration({
            basePath: basePath,
        });
        super(configuration);
        this.partnerId = "";
        this.privateKey = "";
        this.origin = "";
        this.env = "";
        this.partnerId = partnerId;
        this.privateKey = privateKey;
        this.origin = origin;
        this.env = env;
    }
    /**
     * This API is used to reverses the account binding process by revoking the accessToken and refreshToken
     * Account unbinding process
     */
    async accountUnbinding(accountUnbindingRequest, initOverrides) {
        if (accountUnbindingRequest == null) {
            throw new runtime.RequiredError('accountUnbindingRequest', 'Required parameter "accountUnbindingRequest" was null or undefined when calling accountUnbinding().');
        }
        const validationErrorContexts = (0, index_1.validateAccountUnbindingRequest)(accountUnbindingRequest);
        if (validationErrorContexts.length > 0) {
            throw new runtime.ValidationError(validationErrorContexts);
        }
        const queryParameters = {};
        const headerParameters = {};
        headerParameters['Content-Type'] = 'application/json';
        const endpointUrl = `/v1.0/registration-account-unbinding.htm`;
        const response = await this.request({
            path: endpointUrl,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: (0, index_1.AccountUnbindingRequestToJSON)(accountUnbindingRequest),
        }, initOverrides);
        return new runtime.JSONApiResponse(response, (jsonValue) => (0, index_1.AccountUnbindingResponseFromJSON)(jsonValue)).value();
    }
    /**
     * This API is used to get one time token that will be used as authorization parameter upon redirecting to DANA
     * Apply One Time Token
     */
    async applyOTT(applyOTTRequest, initOverrides) {
        if (applyOTTRequest == null) {
            throw new runtime.RequiredError('applyOTTRequest', 'Required parameter "applyOTTRequest" was null or undefined when calling applyOTT().');
        }
        const validationErrorContexts = (0, index_1.validateApplyOTTRequest)(applyOTTRequest);
        if (validationErrorContexts.length > 0) {
            throw new runtime.ValidationError(validationErrorContexts);
        }
        const queryParameters = {};
        const headerParameters = {};
        headerParameters['Content-Type'] = 'application/json';
        const endpointUrl = `/rest/v1.1/qr/apply-ott`;
        const response = await this.request({
            path: endpointUrl,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: (0, index_1.ApplyOTTRequestToJSON)(applyOTTRequest),
        }, initOverrides);
        return new runtime.JSONApiResponse(response, (jsonValue) => (0, index_1.ApplyOTTResponseFromJSON)(jsonValue)).value();
    }
    /**
     * This API is used to finalized account binding process by exchanging the authCode into accessToken that can be used as user authorization
     * Account binding process to get user token
     */
    async applyToken(applyTokenRequest, initOverrides) {
        if (applyTokenRequest == null) {
            throw new runtime.RequiredError('applyTokenRequest', 'Required parameter "applyTokenRequest" was null or undefined when calling applyToken().');
        }
        const validationErrorContexts = (0, index_1.validateApplyTokenRequest)(applyTokenRequest);
        if (validationErrorContexts.length > 0) {
            throw new runtime.ValidationError(validationErrorContexts);
        }
        const queryParameters = {};
        const headerParameters = {};
        headerParameters['Content-Type'] = 'application/json';
        const endpointUrl = `/v1.0/access-token/b2b2c.htm`;
        const response = await this.request({
            path: endpointUrl,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: (0, index_1.ApplyTokenRequestToJSON)(applyTokenRequest),
        }, initOverrides);
        return new runtime.JSONApiResponse(response, (jsonValue) => (0, index_1.ApplyTokenResponseFromJSON)(jsonValue)).value();
    }
    /**
     * This API is used to cancel the order from merchant\'s platform to DANA
     * Cancel Order API
     */
    async cancelOrder(cancelOrderRequest, initOverrides) {
        if (cancelOrderRequest == null) {
            throw new runtime.RequiredError('cancelOrderRequest', 'Required parameter "cancelOrderRequest" was null or undefined when calling cancelOrder().');
        }
        const validationErrorContexts = (0, index_1.validateCancelOrderRequest)(cancelOrderRequest);
        if (validationErrorContexts.length > 0) {
            throw new runtime.ValidationError(validationErrorContexts);
        }
        const queryParameters = {};
        const headerParameters = {};
        headerParameters['Content-Type'] = 'application/json';
        const endpointUrl = `/v1.0/debit/cancel.htm`;
        const requestBody = JSON.stringify((0, index_1.CancelOrderRequestToJSON)(cancelOrderRequest));
        runtime.DanaHeaderUtil.populateSnapB2BScenarioHeader(headerParameters, 'POST', endpointUrl, requestBody, this.privateKey, this.origin, this.partnerId);
        const response = await this.request({
            path: endpointUrl,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: (0, index_1.CancelOrderRequestToJSON)(cancelOrderRequest),
        }, initOverrides);
        return new runtime.JSONApiResponse(response, (jsonValue) => (0, index_1.CancelOrderResponseFromJSON)(jsonValue)).value();
    }
    /**
     * TThis API is used to generate OAuth 2.0 redirect URL to DANA to initiate account binding process where the user will be able to register/login from DANA page
     * Get OAuth 2.0 URL for end user authentication
     */
    async getOAuthUrl(partnerId, timestamp, externalId, channelId, scopes, redirectUrl, state, merchantId, subMerchantId, seamlessData, lang, allowRegistration, initOverrides) {
        if (partnerId == null) {
            throw new runtime.RequiredError('partnerId', 'Required parameter "partnerId" was null or undefined when calling getOAuthUrl().');
        }
        if (timestamp == null) {
            throw new runtime.RequiredError('timestamp', 'Required parameter "timestamp" was null or undefined when calling getOAuthUrl().');
        }
        if (externalId == null) {
            throw new runtime.RequiredError('externalId', 'Required parameter "externalId" was null or undefined when calling getOAuthUrl().');
        }
        if (channelId == null) {
            throw new runtime.RequiredError('channelId', 'Required parameter "channelId" was null or undefined when calling getOAuthUrl().');
        }
        if (scopes == null) {
            throw new runtime.RequiredError('scopes', 'Required parameter "scopes" was null or undefined when calling getOAuthUrl().');
        }
        if (redirectUrl == null) {
            throw new runtime.RequiredError('redirectUrl', 'Required parameter "redirectUrl" was null or undefined when calling getOAuthUrl().');
        }
        if (state == null) {
            throw new runtime.RequiredError('state', 'Required parameter "state" was null or undefined when calling getOAuthUrl().');
        }
        const queryParameters = {};
        if (partnerId != null) {
            queryParameters['partnerId'] = partnerId;
        }
        if (timestamp != null) {
            queryParameters['timestamp'] = timestamp;
        }
        if (externalId != null) {
            queryParameters['externalId'] = externalId;
        }
        if (channelId != null) {
            queryParameters['channelId'] = channelId;
        }
        if (merchantId != null) {
            queryParameters['merchantId'] = merchantId;
        }
        if (subMerchantId != null) {
            queryParameters['subMerchantId'] = subMerchantId;
        }
        if (seamlessData != null) {
            queryParameters['seamlessData'] = seamlessData;
        }
        if (scopes != null) {
            queryParameters['scopes'] = scopes;
        }
        if (redirectUrl != null) {
            queryParameters['redirectUrl'] = redirectUrl;
        }
        if (state != null) {
            queryParameters['state'] = state;
        }
        if (lang != null) {
            queryParameters['lang'] = lang;
        }
        if (allowRegistration != null) {
            queryParameters['allowRegistration'] = allowRegistration;
        }
        const headerParameters = {};
        const endpointUrl = `/v1.0/get-auth-code`;
        const response = await this.request({
            path: endpointUrl,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);
        return new runtime.JSONApiResponse(response, (jsonValue) => (0, index_1.GetOAuthUrlResponseFromJSON)(jsonValue)).value();
    }
    /**
     * This API is used to initiate payment from merchant\'s platform to DANA
     * Process IPG payment
     */
    async ipgPayment(iPGPaymentRequest, initOverrides) {
        if (iPGPaymentRequest == null) {
            throw new runtime.RequiredError('iPGPaymentRequest', 'Required parameter "iPGPaymentRequest" was null or undefined when calling ipgPayment().');
        }
        const validationErrorContexts = (0, index_1.validateIPGPaymentRequest)(iPGPaymentRequest);
        if (validationErrorContexts.length > 0) {
            throw new runtime.ValidationError(validationErrorContexts);
        }
        const queryParameters = {};
        const headerParameters = {};
        headerParameters['Content-Type'] = 'application/json';
        const endpointUrl = `/rest/redirection/v1.0/debit/payment-host-to-host`;
        const requestBody = JSON.stringify((0, index_1.IPGPaymentRequestToJSON)(iPGPaymentRequest));
        runtime.DanaHeaderUtil.populateSnapB2BScenarioHeader(headerParameters, 'POST', endpointUrl, requestBody, this.privateKey, this.origin, this.partnerId);
        const response = await this.request({
            path: endpointUrl,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: (0, index_1.IPGPaymentRequestToJSON)(iPGPaymentRequest),
        }, initOverrides);
        return new runtime.JSONApiResponse(response, (jsonValue) => (0, index_1.IPGPaymentResponseFromJSON)(jsonValue)).value();
    }
    /**
     * This API is used to inquiry payment status and information from merchant\'s platform to DANA
     * Query Payment API
     */
    async queryPayment(queryPaymentRequest, initOverrides) {
        if (queryPaymentRequest == null) {
            throw new runtime.RequiredError('queryPaymentRequest', 'Required parameter "queryPaymentRequest" was null or undefined when calling queryPayment().');
        }
        const validationErrorContexts = (0, index_1.validateQueryPaymentRequest)(queryPaymentRequest);
        if (validationErrorContexts.length > 0) {
            throw new runtime.ValidationError(validationErrorContexts);
        }
        const queryParameters = {};
        const headerParameters = {};
        headerParameters['Content-Type'] = 'application/json';
        const endpointUrl = `/rest/v1.1/debit/status`;
        const requestBody = JSON.stringify((0, index_1.QueryPaymentRequestToJSON)(queryPaymentRequest));
        runtime.DanaHeaderUtil.populateSnapB2BScenarioHeader(headerParameters, 'POST', endpointUrl, requestBody, this.privateKey, this.origin, this.partnerId);
        const response = await this.request({
            path: endpointUrl,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: (0, index_1.QueryPaymentRequestToJSON)(queryPaymentRequest),
        }, initOverrides);
        return new runtime.JSONApiResponse(response, (jsonValue) => (0, index_1.QueryPaymentResponseFromJSON)(jsonValue)).value();
    }
    /**
     * This API is used to refund the order from merchant\'s platform to DANA
     * Refund Order API
     */
    async refundOrder(refundOrderRequest, initOverrides) {
        if (refundOrderRequest == null) {
            throw new runtime.RequiredError('refundOrderRequest', 'Required parameter "refundOrderRequest" was null or undefined when calling refundOrder().');
        }
        const validationErrorContexts = (0, index_1.validateRefundOrderRequest)(refundOrderRequest);
        if (validationErrorContexts.length > 0) {
            throw new runtime.ValidationError(validationErrorContexts);
        }
        const queryParameters = {};
        const headerParameters = {};
        headerParameters['Content-Type'] = 'application/json';
        const endpointUrl = `/v1.0/debit/refund.htm`;
        const requestBody = JSON.stringify((0, index_1.RefundOrderRequestToJSON)(refundOrderRequest));
        runtime.DanaHeaderUtil.populateSnapB2BScenarioHeader(headerParameters, 'POST', endpointUrl, requestBody, this.privateKey, this.origin, this.partnerId);
        const response = await this.request({
            path: endpointUrl,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: (0, index_1.RefundOrderRequestToJSON)(refundOrderRequest),
        }, initOverrides);
        return new runtime.JSONApiResponse(response, (jsonValue) => (0, index_1.RefundOrderResponseFromJSON)(jsonValue)).value();
    }
}
exports.IPGApi = IPGApi;
